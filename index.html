<!DOCTYPE html>
<html lang="en-us">
<head>
    <meta charset="utf-8">
    <title>Word Play</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
</head>

<body>

<!--Boostrap grid-->
        <div class="container">
            <h2> Guess the Word</h2>
            <hr>
            <div id="wordText"></div>
            <hr>
            <div id="guessAlert">Press any key to start</div>
            <hr>
            <div>Guessed Letters</div>
            <hr>
            <div id="guessText"></div>
            <hr>
            <div id="guessesLeft"></div>
            <hr>
            <div id="winsText"></div>
        </div>        


<script type="text/javascript">
/*Declare variables*/
var wordList= ["sheldon", "leonard", "howard", "raj", "penny", "amy", "bernadette", "stewart", "bazinga", "comic book", "science", "comic con"];
var wordLetters = [];
var userSolution = [];
var guessCount = 10;
var wins = 0;
var guessedLetters = [];
var leftToGuess=0;

var word = wordList[Math.floor(Math.random() * wordList.length)];
document.getElementById('guessesLeft').innerHTML="Guesses left: " + guessCount;
document.getElementById("winsText").innerHTML="You have won " + wins + " times";


   
for (i = 0; i < word.length; i++) {
wordLetters.push(word[i]);
    if (word[i] === " ") {
        userSolution.push(" ");
        document.getElementById("wordText").innerHTML=document.getElementById("wordText").innerHTML + "&nbsp";
        }  
    else {
        document.getElementById("wordText").innerHTML=document.getElementById("wordText").innerHTML + "_ ";
    userSolution.push("_");
    }
}

console.log(wordLetters);

                   
/*Function to capture user key presses */         
document.onkeyup = function(event) {
    var userGuess = event.key;
    var solved = false;
    var correctGuess = false;
   
    
    console.log("This was the user guess " + userGuess);

   /* store user guess and determine if already guessed */

if (guessedLetters.indexOf(userGuess) === -1){
    guessedLetters.push(userGuess);
    document.getElementById("guessText").innerHTML+=userGuess + "&nbsp";
  for (j=0; j < word.length; j++) {
   
     /*check to see if letter matches */    
    if (wordLetters[j] === userGuess) {  
        correctGuess= true;
        userSolution[j] = userGuess; 
    }
     
    
  }     

        /* output array as string*/
    var wordString = "";
    for (k=0; k < userSolution.length; k++) {
        wordString= wordString + (userSolution[k] + "&nbsp");
        }
    document.getElementById("wordText").innerHTML=wordString;
          

    if (correctGuess) {
        document.getElementById("guessAlert").innerHTML="You guessed a letter!";
        if (userSolution.indexOf("_") !== -1) {
            document.getElementById("guessAlert").innerHTML+= "&nbsp" + "Guess Again";
        
        console.log("You found a letter");
        console.log(userSolution);
        } else {
            document.getElementById("guessAlert").innerHTML="You won! Restarting game...";
            wins++;
            document.getElementById("winsText").innerHTML="You have won " + wins + " times. Restarting game...";
            location.reload(false);
            console.log("You win");
        }
    } 
    else {
        guessCount--;
        document.getElementById('guessesLeft').innerHTML="Guesses left: " + guessCount;
        document.getElementById("guessAlert").innerHTML="Incorrect guess. Please try again!";
        console.log("Incorrect guess");
        console.log(userSolution);
    }

    if (guessCount === 0) {
        document.getElementById("guessAlert").innerHTML="You lose!! Restarting game...";
        setTimeout("location.href = 'index.html'", 3000);
    }
    
} else {
    document.getElementById("guessAlert").innerHTML="Letter already guessed. Please try again!";
}


   



      
        
        
      
}    
        
       
    



 </script>

 </body>
 </html>   
